{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\sitoBE\\\\src\\\\GestioneProprietario\\\\Modifica\\\\ModificaB&B.js\";\n\n/*CSS FATTO*/\nimport React from \"react\";\nimport camera from \"../assets/camera.svg\";\nimport { Form, Button } from \"react-bootstrap\";\nimport \"../InserisciProp/InserimentoProprietà.css\";\n\nclass ModificaBeB extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      const data1 = {\n        nome_proprieta: this.state.nome_proprieta,\n        indirizzo: this.state.indirizzo,\n        localita: this.state.localita,\n        provincia: this.state.provincia,\n        tipo_proprieta: this.state.tipo_proprieta,\n        servizi: this.state.servizi,\n        ref_proprietario: this.state.ref_proprietario,\n        descrizione: this.state.descrizione,\n        id_proprieta: this.state.id_proprieta\n      };\n      fetch('http://localhost:9000/updateProprieta/fields', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data1)\n      }).then(result => {\n        result.text();\n      }).then(result => {\n        this.setState({\n          apiResponse: result\n        });\n\n        if (this.state.apiResponse && this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true,\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {\n          const data2 = {\n            posti_letto: this.state.posti_letto,\n            tariffa_casa: this.state.tariffa_casa,\n            ref_proprieta_cv: this.state.ref_proprieta_cv\n          };\n          fetch('http://localhost:9000/updateCasa/fields', {\n            method: 'POST',\n            headers: {\n              'Content-type': 'application/json'\n            },\n            body: JSON.stringify(data2)\n          }).then(result => result.text()).then(result => {\n            this.setState({\n              apiResponse: result\n            });\n\n            if (this.state.apiResponse && this.state.apiResponse.status === 'error') {\n              this.setState({\n                error: true,\n                errorMessage: this.state.apiResponse.message\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.state = {\n      dati_bb: this.props.history.location.state ? this.props.history.location.state.dati_bb : '',\n      ref_proprietario: localStorage.getItem('email'),\n      id_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_bb.id_proprieta : '',\n      nome_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_bb.nome_proprieta : '',\n      indirizzo: this.props.history.location.state ? this.props.history.location.state.dati_bb.indirizzo : '',\n      localita: this.props.history.location.state ? this.props.history.location.state.dati_bb.localita : '',\n      provincia: this.props.history.location.state ? this.props.history.location.state.dati_bb.provincia : '',\n      tipo_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_bb.tipo_proprieta : '',\n      servizi: this.props.history.location.state ? this.props.history.location.state.dati_bb.servizi : '',\n      descrizione: this.props.history.location.state ? this.props.history.location.state.dati_bb.descrizione : '',\n      ref_proprieta_bb: this.props.history.location.state ? this.props.history.location.state.dati_bb.ref_proprieta_bb : '',\n      check_in: this.props.history.location.state ? this.props.history.location.state.dati_bb.check_in : '',\n      check_out: this.props.history.location.state ? this.props.history.location.state.dati_bb.check_out : '',\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      success: false\n    };\n  }\n\n  render() {\n    var bb = this.state.dati_bb ? this.state.dati_bb : '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Modifica il tuo B&B con le informazioni che preferisci!\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nome_proprieta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"nome_proprieta\",\n      name: \"nome_proprieta\",\n      defaultValue: bb.nome_proprieta,\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"localita\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, \"Citt\\xE0\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"localita\",\n      name: \"localita\",\n      defaultValue: bb.localita,\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"indirizzo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, \"Indirizzo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"indirizzo\",\n      name: \"indirizzo\",\n      defaultValue: bb.indirizzo,\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"provincia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"Provincia\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"provincia\",\n      name: \"provincia\",\n      defaultValue: bb.provincia,\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"servizi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, \"Servizi\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"servizi\",\n      name: \"servizi\",\n      defaultValue: bb.servizi,\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"descrizione\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, \"Descrizione\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"descrizione\",\n      name: \"descrizione\",\n      defaultValue: bb.descrizione,\n      onChange: this.onChange,\n      className: \"iTA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"check_in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, \"Check-in\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      pattern: \"^([0-9]|1[0-9]|2[0-3]).[0-5][0-9]$\",\n      title: \"Inserire un orario corretto, usando un punto per separare i minuti\",\n      id: \"check_in\",\n      name: \"check_in\",\n      defaultValue: bb.check_in + '0',\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"check_out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, \"Check-out\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      pattern: \"^([0-9]|1[0-9]|2[0-3]).[0-5][0-9]$\",\n      title: \"Inserire un orario corretto, usando un punto per separare i minuti\",\n      id: \"check_out\",\n      name: \"check_out\",\n      defaultValue: bb.check_out + '0',\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, \"Carica\")))));\n  }\n\n}\n\nexport default ModificaBeB;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/sitoBE/src/GestioneProprietario/Modifica/ModificaB&B.js"],"names":["React","Form","Button","ModificaBeB","Component","constructor","props","onChange","e","setState","target","name","value","onSubmit","data1","nome_proprieta","state","indirizzo","localita","provincia","tipo_proprieta","servizi","ref_proprietario","descrizione","id_proprieta","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","status","error","errorMessage","message","data2","posti_letto","tariffa_casa","ref_proprieta_cv","dati_bb","history","location","localStorage","getItem","ref_proprieta_bb","check_in","check_out","success","render","bb"],"mappings":"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","sourcesContent":["/*CSS FATTO*/\r\n\r\nimport React from \"react\";\r\nimport camera from \"../assets/camera.svg\";   \r\nimport {Form, Button} from \"react-bootstrap\"\r\n\r\nimport \"../InserisciProp/InserimentoProprietà.css\";\r\n\r\n\r\n\r\nclass ModificaBeB extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dati_bb: this.props.history.location.state ? this.props.history.location.state.dati_bb : '',\r\n      ref_proprietario: localStorage.getItem('email'),\r\n      id_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_bb.id_proprieta : '',\r\n      nome_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_bb.nome_proprieta : '',\r\n      indirizzo: this.props.history.location.state ? this.props.history.location.state.dati_bb.indirizzo : '',\r\n      localita: this.props.history.location.state ? this.props.history.location.state.dati_bb.localita : '',\r\n      provincia: this.props.history.location.state ? this.props.history.location.state.dati_bb.provincia : '',\r\n      tipo_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_bb.tipo_proprieta : '',\r\n      servizi: this.props.history.location.state ? this.props.history.location.state.dati_bb.servizi : '',\r\n      descrizione: this.props.history.location.state ? this.props.history.location.state.dati_bb.descrizione : '',\r\n      ref_proprieta_bb: this.props.history.location.state ? this.props.history.location.state.dati_bb.ref_proprieta_bb : '',\r\n      check_in: this.props.history.location.state ? this.props.history.location.state.dati_bb.check_in : '',\r\n      check_out: this.props.history.location.state ? this.props.history.location.state.dati_bb.check_out : '',\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: '',\r\n      success: false\r\n    }\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    const data1 = {\r\n      nome_proprieta: this.state.nome_proprieta,\r\n      indirizzo: this.state.indirizzo,\r\n      localita: this.state.localita,\r\n      provincia: this.state.provincia,\r\n      tipo_proprieta: this.state.tipo_proprieta,\r\n      servizi: this.state.servizi,\r\n      ref_proprietario: this.state.ref_proprietario,\r\n      descrizione: this.state.descrizione,\r\n      id_proprieta: this.state.id_proprieta\r\n    };\r\n\r\n    fetch('http://localhost:9000/updateProprieta/fields', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-type':'application/json'\r\n        },\r\n        body: JSON.stringify(data1)\r\n    })\r\n    .then((result) => {result.text()})\r\n    .then((result) => {\r\n      this.setState({ apiResponse: result });\r\n\r\n      if(this.state.apiResponse && this.state.apiResponse.status === 'error') {\r\n        this.setState({\r\n          error: true,\r\n          errorMessage: this.state.apiResponse.message\r\n        });\r\n      }\r\n      else {\r\n        const data2 = {\r\n          posti_letto: this.state.posti_letto,\r\n          tariffa_casa: this.state.tariffa_casa,\r\n          ref_proprieta_cv: this.state.ref_proprieta_cv,\r\n        };\r\n    \r\n        fetch('http://localhost:9000/updateCasa/fields',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data2)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n          this.setState({ apiResponse: result });\r\n    \r\n          if(this.state.apiResponse && this.state.apiResponse.status === 'error') {\r\n            this.setState({\r\n              error: true,\r\n              errorMessage: this.state.apiResponse.message\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    var bb = this.state.dati_bb ? this.state.dati_bb : '';\r\n\r\n    return (\r\n        <div className=\"background\">\r\n      <div className=\"containerNew\">  \r\n        <div className=\"contentNew\">\r\n          <form>\r\n          <h2>Modifica il tuo B&B con le informazioni che preferisci!</h2>\r\n            <label htmlFor = \"nome_proprieta\">Nome</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"nome_proprieta\"\r\n                name = \"nome_proprieta\"\r\n                defaultValue = {bb.nome_proprieta}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n              <label htmlFor = \"localita\">Città</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"localita\"\r\n                name = \"localita\"\r\n                defaultValue = {bb.localita}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n\r\n              <label htmlFor = \"indirizzo\">Indirizzo</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"indirizzo\"\r\n                name = \"indirizzo\"\r\n                defaultValue = {bb.indirizzo}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n              \r\n              <label htmlFor = \"provincia\">Provincia</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"provincia\"\r\n                name = \"provincia\"\r\n                defaultValue = {bb.provincia}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n\r\n              <label htmlFor = \"servizi\">Servizi</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"servizi\"\r\n                name = \"servizi\"\r\n                defaultValue = {bb.servizi}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n              <label htmlFor = \"descrizione\">Descrizione</label>\r\n              <textarea \r\n                id = 'descrizione'\r\n                name = 'descrizione'\r\n                defaultValue = {bb.descrizione}\r\n                onChange = {this.onChange}\r\n                className = 'iTA'\r\n              >\r\n              </textarea>\r\n\r\n              <label htmlFor = \"check_in\">Check-in</label>\r\n              <input\r\n                type = \"text\"\r\n                pattern = \"^([0-9]|1[0-9]|2[0-3]).[0-5][0-9]$\"\r\n                title = \"Inserire un orario corretto, usando un punto per separare i minuti\"\r\n                id = \"check_in\"\r\n                name = \"check_in\"\r\n                defaultValue = {bb.check_in + '0'}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n\r\n              <label htmlFor = \"check_out\">Check-out</label>\r\n              <input\r\n                type = \"text\"\r\n                pattern = \"^([0-9]|1[0-9]|2[0-3]).[0-5][0-9]$\"\r\n                title = \"Inserire un orario corretto, usando un punto per separare i minuti\"\r\n                id = \"check_out\"\r\n                name = \"check_out\"\r\n                defaultValue = {bb.check_out + '0'}\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n            \r\n              <Button variant=\"primary\" type=\"submit\">\r\n              Carica\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModificaBeB;"]},"metadata":{},"sourceType":"module"}
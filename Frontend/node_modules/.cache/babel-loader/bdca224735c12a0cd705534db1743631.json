{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\sitoBE\\\\src\\\\GestioneProprietario\\\\InserisciProp\\\\inserimentoCasaVacanza.js\";\n\n/*CSS FATTO*/\nimport React, { useState, useMemo } from \"react\";\nimport camera from \"../assets/camera.svg\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport \"./InserimentoProprietà.css\";\n\nclass InserimentoCasaVacanza extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmitInsert = e => {\n      e.preventDefault();\n      const data1 = {\n        nome_proprieta: this.state.nome_proprieta,\n        indirizzo: this.state.indirizzo,\n        localita: this.state.localita,\n        provincia: this.state.provincia,\n        tipo_proprieta: 'cv',\n        servizi: this.state.servizi,\n        ref_proprietario: localStorage.getItem('email_prop'),\n        descrizione: this.state.descrizione\n      };\n      const data2 = {\n        ref_proprieta_cv: localStorage.getItem('id_proprieta'),\n        postiletto: this.state.postiletto,\n        tariffa: this.state.tariffa\n      };\n      fetch('http://localhost:9000/insertProprieta/new', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data1)\n      }).then(result => result.text()).then(result => {\n        console.log(JSON.parse(result));\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n\n        if (this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {//inserire messaggio inserimento avvenuto\n        }\n      });\n      fetch('http//localhost:9000/insertCV/new', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data2)\n      }).then(result => result.text()).then(result => {\n        console.log(JSON.parse(result));\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n      });\n    };\n\n    this.state = {\n      nome_proprieta: '',\n      indirizzo: '',\n      localita: '',\n      provincia: '',\n      tipo_proprieta: 'cv',\n      servizi: '',\n      descrizione: '',\n      ref_proprietario: localStorage.getItem('email_prop'),\n      postiletto: '',\n      tariffa: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.props.onSubmitLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"Compila questo form inserire la tua casa vacanza!\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Nome\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Nome\",\n      placeholder: \"Nome casa\",\n      onChange: this.props.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Citt\\xE0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Citt\\xE0\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Citt\\xE0\",\n      placeholder: \"Nome citt\\xE0\",\n      onChange: this.props.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Via\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, \"Via\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Via\",\n      placeholder: \"Indirizzo casa\",\n      onChange: this.props.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Provincia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 12\n      }\n    }, \"Provincia\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Provincia\",\n      placeholder: \"Provincia casa\",\n      onChange: this.props.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Servizi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 12\n      }\n    }, \"Servizi\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Servizi\",\n      placeholder: \"Elenco servizi\",\n      onChange: this.props.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Descrizione\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, \"Descrizione\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Descrizione\",\n      placeholder: \"Descrizione casa\",\n      onChange: this.props.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Nome\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, \"Tariffa\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Tariffa\",\n      placeholder: \"Tariffa casa\",\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \"Inserisci delle foto della tua struttura\"), /*#__PURE__*/React.createElement(Form.Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/InserimentoPropriet\\xE0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, \"Torna indietro\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, \"Carica\")))));\n  }\n\n}\n\n;\nexport default InserimentoCasaVacanza;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/sitoBE/src/GestioneProprietario/InserisciProp/inserimentoCasaVacanza.js"],"names":["React","useState","useMemo","Form","Button","Link","InserimentoCasaVacanza","Component","constructor","props","onChange","e","setState","target","name","value","onSubmitInsert","preventDefault","data1","nome_proprieta","state","indirizzo","localita","provincia","tipo_proprieta","servizi","ref_proprietario","localStorage","getItem","descrizione","data2","ref_proprieta_cv","postiletto","tariffa","fetch","method","headers","body","JSON","stringify","then","result","text","console","log","parse","apiResponse","status","error","errorMessage","message","render","onSubmitLogin"],"mappings":"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","sourcesContent":["/*CSS FATTO*/\r\n\r\nimport React, { useState, useMemo } from \"react\";\r\nimport camera from \"../assets/camera.svg\";   \r\nimport {Form, Button} from \"react-bootstrap\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport \"./InserimentoProprietà.css\";\r\n\r\n\r\nclass InserimentoCasaVacanza extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      nome_proprieta: '',\r\n      indirizzo: '',\r\n      localita:'',\r\n      provincia:'',\r\n      tipo_proprieta:'cv',\r\n      servizi:'',\r\n      descrizione:'',\r\n      ref_proprietario:localStorage.getItem('email_prop'),\r\n      postiletto:'',\r\n      tariffa:'',\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onSubmitInsert = (e) => {\r\n    e.preventDefault();\r\n\r\n    const data1 = {\r\n      nome_proprieta: this.state.nome_proprieta,\r\n      indirizzo: this.state.indirizzo,\r\n      localita:this.state.localita,\r\n      provincia:this.state.provincia,\r\n      tipo_proprieta:'cv',\r\n      servizi:this.state.servizi,\r\n      ref_proprietario:localStorage.getItem('email_prop'),\r\n      descrizione:this.state.descrizione\r\n    }\r\n\r\n    const data2 = {\r\n      ref_proprieta_cv:localStorage.getItem('id_proprieta'),\r\n      postiletto:this.state.postiletto,\r\n      tariffa:this.state.tariffa\r\n    };\r\n\r\n    fetch('http://localhost:9000/insertProprieta/new', {\r\n      method: \"POST\",\r\n      headers:{\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data1)\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n      console.log(JSON.parse(result));\r\n      this.setState({ apiResponse: JSON.parse(result) });\r\n\r\n      if(this.state.apiResponse.status === 'error') {\r\n        this.setState({ error: true });\r\n        this.setState({ errorMessage: this.state.apiResponse.message });\r\n      }\r\n      else {\r\n        //inserire messaggio inserimento avvenuto\r\n      }\r\n    });\r\n\r\n      fetch('http//localhost:9000/insertCV/new',{\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data2)\r\n      })\r\n      .then((result) => result.text())\r\n      .then((result) => {\r\n        console.log(JSON.parse(result));\r\n        this.setState({ apiResponse: JSON.parse(result) });\r\n      })\r\n  }\r\n\r\nrender() {\r\n  return (\r\n    <div className=\"background\">\r\n        <div className=\"containerNew\">  \r\n            <div className=\"contentNew\">\r\n                <form onSubmit={this.props.onSubmitLogin}>\r\n                <h2>Compila questo form inserire la tua casa vacanza!</h2>\r\n                <label htmlFor=\"Nome\">Nome</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Nome\"\r\n            placeholder=\"Nome casa\"\r\n            onChange={this.props.onChange}\r\n            className=\"i\"\r\n          />\r\n\r\n          <label htmlFor=\"Città\">Città</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Città\"\r\n            placeholder=\"Nome città\"\r\n            onChange={this.props.onChange}\r\n            className=\"i\"\r\n          />\r\n\r\n          <label htmlFor=\"Via\">Via</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Via\"\r\n            placeholder=\"Indirizzo casa\"\r\n            onChange={this.props.onChange}\r\n            className=\"i\"\r\n          />\r\n           \r\n           <label htmlFor=\"Provincia\">Provincia</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Provincia\"\r\n            placeholder=\"Provincia casa\"\r\n            onChange={this.props.onChange}\r\n            className=\"i\"\r\n          />\r\n\r\n           <label htmlFor=\"Servizi\">Servizi</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Servizi\"\r\n            placeholder=\"Elenco servizi\"\r\n            onChange={this.props.onChange}\r\n            className=\"i\"\r\n          />\r\n              <label htmlFor=\"Descrizione\">Descrizione</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"Descrizione\"\r\n            placeholder=\"Descrizione casa\"\r\n            onChange={this.props.onChange}\r\n            className=\"i\"\r\n          />\r\n                <label htmlFor=\"Nome\">Tariffa</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"Tariffa\"\r\n                    placeholder=\"Tariffa casa\"\r\n                    className=\"i\"\r\n                />\r\n                <Form.Group>\r\n                    <label>Inserisci delle foto della tua struttura</label>\r\n                    <Form.Row className=\"justify-content-center\">\r\n                    <input\r\n                    type=\"file\"\r\n                    className=\"inputImg\"\r\n                    accept=\"image/*\"\r\n                    />\r\n                    <input\r\n                    type=\"file\"\r\n                    className=\"inputImg\"\r\n                    accept=\"image/*\"\r\n                    />\r\n                    <input\r\n                    type=\"file\"\r\n                    className=\"inputImg\"\r\n                    accept=\"image/*\"\r\n                    />\r\n                    <input\r\n                    type=\"file\"\r\n                    className=\"inputImg\"\r\n                    accept=\"image/*\"\r\n                    />\r\n                </Form.Row>\r\n                </Form.Group>\r\n                <Link to=\"/InserimentoProprietà\">Torna indietro</Link>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Carica\r\n                </Button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n );}\r\n};\r\n\r\nexport default InserimentoCasaVacanza;"]},"metadata":{},"sourceType":"module"}